var Big = require('big.js');
var dataprovider = require('nodeunit-dataprovider');
var vatMoss = require('../vat-moss.js');

exports.calculateRate = dataprovider(
    [
        // Phone number        Address info                     Expected result
        ['+43 5676 8135',      'AT', 'Jungholz',                Big('0.19'), 'AT', 'Jungholz'],
        ['+43 5676 8135',      'AT', null,                      Big('0.19'), 'AT', 'Jungholz'],
        ['+43 5517 5590',      'AT', 'Mittelberg',              Big('0.19'), 'AT', 'Mittelberg'],
        ['+43 5517 66510',     'AT', null,                      Big('0.20'), 'AT', null],
        ['+43 662 841150',     'AT', null,                      Big('0.20'), 'AT', null],

        ['+32 2 279 22 11',    'BE', null,                      Big('0.21'), 'BE', null],
        ['+359 2 811 9227',    'BG', null,                      Big('0.20'), 'BG', null],
        ['+357 22 316439',     'CY', null,                      Big('0.19'), 'CY', null],
        ['+420 272 772 862',   'CZ', null,                      Big('0.21'), 'CZ', null],

        ['+49 4725 81410',     'DE', 'Heligoland',              Big('0.0'),  'DE', 'Heligoland'],
        ['+49 7734 931990',    'DE', 'Büsingen am Hochrhein',   Big('0.0'),  'DE', 'Büsingen am Hochrhein'],
        ['+49 7734 6638',      'DE', null,                      Big('0.19'), 'DE', null],
        // Büsingen also has phone access through Switzerland
        ['+41 52 503 40 57',   'DE', 'Büsingen am Hochrhein',   Big('0.0'),  'DE', 'Büsingen am Hochrhein'],
        ['+41 52 630 00 60',   'CH', null,                      Big('0.0'),  'CH', null],
        ['+49 173 2050004',    'DE', null,                      Big('0.19'), 'DE', null],

        ['+45 33 13 44 11',    'DK', null,                      Big('0.25'), 'DK', null],
        ['+372 644 3484',      'EE', null,                      Big('0.20'), 'EE', null],

        ['+34 922 21 47 43',   'ES', 'Canary Islands',          Big('0.0'),  'ES', 'Canary Islands'],
        ['+34 952 68 63 80',   'ES', 'Melilla',                 Big('0.0'),  'ES', 'Melilla'],
        ['+34 952 52 95 20',   'ES', null,                      Big('0.21'), 'ES', null],
        ['+34 956 50 19 36',   'ES', 'Ceuta',                   Big('0.0'),  'ES', 'Ceuta'],
        ['+34 956 02 50 00',   'ES', null,                      Big('0.21'), 'ES', null],
        ['+34 913 55 08 73',   'ES', null,                      Big('0.21'), 'ES', null],

        ['+358 20 7590317',    'FI', null,                      Big('0.24'), 'FI', null],
        ['+33 1 40 46 79 00',  'FR', null,                      Big('0.20'), 'FR', null],
        ['+44 20 7229 8331',   'GB', null,                      Big('0.0'), 'GB', null],

        ['+30 2377 023643',    'GR', 'Mount Athos',             Big('0.0'),  'GR', 'Mount Athos'],
        ['+30 2377 071189',    'GR', null,                      Big('0.24'), 'GR', null],
        ['+30 21 3214 4890',   'GR', null,                      Big('0.24'), 'GR', null],

        ['+385 1 4564 111',    'HR', null,                      Big('0.25'), 'HR', null],
        ['+36 1 263 6000',     'HU', null,                      Big('0.27'), 'HU', null],
        ['+353 1 475 8555',    'IE', null,                      Big('0.23'), 'IE', null],
        // Campione only has phone access through Switzerland
        ['+41 91 649 75 41',   'IT', "Campione d'Italia",       Big('0.0'),  'IT', "Campione d'Italia"],
        ['+41 91 640 16 16',   'CH', null,                      Big('0.0'),  'CH', null],
        ['+39 0342 996002',    'IT', 'Livigno',                 Big('0.0'),  'IT', 'Livigno'],
        ['+39 0342 528111',    'IT', null,                      Big('0.22'), 'IT', null],
        ['+39 06 49971',       'IT', null,                      Big('0.22'), 'IT', null],

        ['+370 5 231 4930',    'LT', null,                      Big('0.21'), 'LT', null],
        ['+352 22 28 09',      'LU', null,                      Big('0.17'), 'LU', null],
        ['+371 26 448 632',    'LV', null,                      Big('0.21'), 'LV', null],
        ['+356 2122 0536',     'MT', null,                      Big('0.18'), 'MT', null],
        ['+31 20 522 1010',    'NL', null,                      Big('0.21'), 'NL', null],
        ['+48 22 529 87 77',   'PL', null,                      Big('0.23'), 'PL', null],

        ['+351 296 306 508',   'PT', 'Azores',                  Big('0.0'),  'PT', 'Azores'],
        ['+351 291 215 130',   'PT', 'Madeira',                 Big('0.0'),  'PT', 'Madeira'],
        ['+351 21 346 1381',   'PT', null,                      Big('0.23'), 'PT', null],

        ['+40 21 310 1522',    'RO', null,                      Big('0.19'), 'RO', null],
        ['+46 8 402 61 30',    'SE', null,                      Big('0.25'), 'SE', null],
        ['+386 1 585 27 56',   'SI', null,                      Big('0.22'), 'SI', null],
        ['+421 2/524 929 73',  'SK', null,                      Big('0.20'), 'SK', null],
        ['+377 93 15 29 40',   'MC', null,                      Big('0.20'), 'MC', null],
        ['+44 1624 664455',    'IM', null,                      Big('0.0'), 'IM', null],
        ['+47 21 42 21 21',    'NO', null,                      Big('0.25'), 'NO', null],

        ['+1-978-572-0330',    'US', null,                      Big('0.0'),  'US', null],
        ['+1.787.253.2329',    'PR', null,                      Big('0.0'),  'PR', null],

        ['+1 613-836-2527',    'CA', null,                      Big('0.0'),  'CA', null],
        ['+1 902-894-7371',    'CA', null,                      Big('0.0'),  'CA', null],
        ['+1 604-538-8587',    'CA', null,                      Big('0.0'),  'CA', null],

        ['+1 268-462-0140',    'AG', null,                      Big('0.0'),  'AG', null],
        ['+1 264-498-2000',    'AI', null,                      Big('0.0'),  'AI', null],
        ['+1 684-258-3401',    'AS', null,                      Big('0.0'),  'AS', null],
        ['+1 246-274-1200',    'BB', null,                      Big('0.0'),  'BB', null],
        ['+1 441-295-8085',    'BM', null,                      Big('0.0'),  'BM', null],
        ['+1 242-327-7211',    'BS', null,                      Big('0.0'),  'BS', null],
        ['+1 767-445-8486',    'DM', null,                      Big('0.0'),  'DM', null],
        ['+1 809-686-0222',    'DO', null,                      Big('0.0'),  'DO', null],
        ['+1 473-435-8378',    'GD', null,                      Big('0.0'),  'GD', null],
        ['+1 671-333-4050',    'GU', null,                      Big('0.0'),  'GU', null],
        ['+1 876-922-2707',    'JM', null,                      Big('0.0'),  'JM', null],
        ['+1 869-466-1200',    'KN', null,                      Big('0.0'),  'KN', null],
        ['+1 345-949-0088',    'KY', null,                      Big('0.0'),  'KY', null],
        ['+1 758-452-3081',    'LC', null,                      Big('0.0'),  'LC', null],
        ['+1 670-433-9294',    'MP', null,                      Big('0.0'),  'MP', null],
        ['+1 664-491-8767',    'MS', null,                      Big('0.0'),  'MS', null],
        ['+1 721-542-2447',    'SX', null,                      Big('0.0'),  'SX', null],
        ['+1 649-946-8666',    'TC', null,                      Big('0.0'),  'TC', null],
        ['+1 868-628-1488',    'TT', null,                      Big('0.0'),  'TT', null],
        ['+1 784-458-4811',    'VC', null,                      Big('0.0'),  'VC', null],
        ['+1 284-494-2771',    'VG', null,                      Big('0.0'),  'VG', null],
        ['+1 340-774-1600',    'VI', null,                      Big('0.0'),  'VI', null],

        ['+20 2 35676105',     'EG', null,                      Big('0.0'),  'EG', null],
        ['+211 912 105 107',   'SS', null,                      Big('0.0'),  'SS', null],
        ['+212 5288-41219',    'EH', null,                      Big('0.0'),  'EH', null],
        ['+212 5377-62265',    'MA', null,                      Big('0.0'),  'MA', null],
        ['+213 770 08 20 00',  'DZ', null,                      Big('0.0'),  'DZ', null],
        ['+216 71 107 000',    'TN', null,                      Big('0.0'),  'TN', null],
        ['+218 21-3330292',    'LY', null,                      Big('0.0'),  'LY', null],
        ['+220 439 9260',      'GM', null,                      Big('0.0'),  'GM', null],
        ['+221 33 879 40 00',  'SN', null,                      Big('0.0'),  'SN', null],
        ['+222 45 25 14 24',   'MR', null,                      Big('0.0'),  'MR', null],
        ['+223 20 70 23 00',   'ML', null,                      Big('0.0'),  'ML', null],
        ['+224 666 80 87 82',  'GN', null,                      Big('0.0'),  'GN', null],
        ['+225 22 48 10 00',   'CI', null,                      Big('0.0'),  'CI', null],
        ['+226 50 49 53 00',   'BF', null,                      Big('0.0'),  'BF', null],
        ['+227 20 37 00 29',   'NE', null,                      Big('0.0'),  'NE', null],
        ['+228 22 23 60 60',   'TG', null,                      Big('0.0'),  'TG', null],
        ['+229 21 30 14 13',   'BJ', null,                      Big('0.0'),  'BJ', null],
        ['+230 211 9500',      'MU', null,                      Big('0.0'),  'MU', null],
        ['+231 88 651 7686',   'LR', null,                      Big('0.0'),  'LR', null],
        ['+232 22 272520',     'SL', null,                      Big('0.0'),  'SL', null],
        ['+233 30 263 3863',   'GH', null,                      Big('0.0'),  'GH', null],
        ['+234 1 277 8897',    'NG', null,                      Big('0.0'),  'NG', null],
        ['+235 22 51 91 56',   'TD', null,                      Big('0.0'),  'TD', null],
        ['+236 21 61 24 00',   'CF', null,                      Big('0.0'),  'CF', null],
        ['+237 22 48 23 43',   'CM', null,                      Big('0.0'),  'CM', null],
        ['+238 260 90 60',     'CV', null,                      Big('0.0'),  'CV', null],
        ['+239 222 3421',      'ST', null,                      Big('0.0'),  'ST', null],
        ['+240 333 088 157',   'GQ', null,                      Big('0.0'),  'GQ', null],
        ['+241 01 79 32 00',   'GA', null,                      Big('0.0'),  'GA', null],
        ['+242 06 670 0700',   'CG', null,                      Big('0.0'),  'CG', null],
        ['+243 991 597 592',   'CD', null,                      Big('0.0'),  'CD', null],
        ['+244 222 336 346',   'AO', null,                      Big('0.0'),  'AO', null],
        ['+245 320 7633',      'GW', null,                      Big('0.0'),  'GW', null],
        ['+246-370-4830',      'IO', null,                      Big('0.0'),  'IO', null],
        ['+247 7000',          'AC', null,                      Big('0.0'),  'AC', null],
        ['+248 2 522 010',     'SC', null,                      Big('0.0'),  'SC', null],
        ['+249 91 229 3026',   'SD', null,                      Big('0.0'),  'SD', null],
        ['+250 788 840 928',   'RW', null,                      Big('0.0'),  'RW', null],
        ['+251 25 112 4909',   'ET', null,                      Big('0.0'),  'ET', null],
        ['+252 2 4040880',     'SO', null,                      Big('0.0'),  'SO', null],
        ['+253 21 34 01 01',   'DJ', null,                      Big('0.0'),  'DJ', null],
        ['+254 42 2131201',    'KE', null,                      Big('0.0'),  'KE', null],
        ['+255 22 284 4371',   'TZ', null,                      Big('0.0'),  'TZ', null],
        ['+256 41 4320101',    'UG', null,                      Big('0.0'),  'UG', null],
        ['+257 22 22 45 21',   'BI', null,                      Big('0.0'),  'BI', null],
        ['+258 26 520 683',    'MZ', null,                      Big('0.0'),  'MZ', null],
        ['+260 21 1250000',    'ZM', null,                      Big('0.0'),  'ZM', null],
        ['+261 32 07 125 48',  'MG', null,                      Big('0.0'),  'MG', null],
        ['+262 269 62 06 58',  'YT', null,                      Big('0.0'),  'YT', null],
        ['+262 262 20 02 19',  'RE', null,                      Big('0.0'),  'RE', null],
        ['+263 9 724 64',      'ZW', null,                      Big('0.0'),  'ZW', null],
        ['+264 61 207 9111',   'NA', null,                      Big('0.0'),  'NA', null],
        ['+265 1 761 613',     'MW', null,                      Big('0.0'),  'MW', null],
        ['+266 2224 3000',     'LS', null,                      Big('0.0'),  'LS', null],
        ['+267 395 1111',      'BW', null,                      Big('0.0'),  'BW', null],
        ['+268 2404 5505',     'SZ', null,                      Big('0.0'),  'SZ', null],
        ['+269 773 06 15',     'KM', null,                      Big('0.0'),  'KM', null],
        ['+27 21 637 6607',    'ZA', null,                      Big('0.0'),  'ZA', null],
        ['+290 22944',         'SH', null,                      Big('0.0'),  'SH', null],
        ['+291 1 120 944',     'ER', null,                      Big('0.0'),  'ER', null],
        ['+297 582 7488',      'AW', null,                      Big('0.0'),  'AW', null],
        ['+298 314251',        'FO', null,                      Big('0.0'),  'FO', null],
        ['+299 32 77 33',      'GL', null,                      Big('0.0'),  'GL', null],

        ['+350 200 47693',     'GI', null,                      Big('0.0'),  'GI', null],
        ['+354 510 1000',      'IS', null,                      Big('0.0'),  'IS', null],
        ['+355 54 243 355',    'AL', null,                      Big('0.0'),  'AL', null],
        ['+358 18 19930',      'AX', null,                      Big('0.0'),  'AX', null],
        ['+373 22 505 511',    'MD', null,                      Big('0.0'),  'MD', null],
        ['+374 10 440530',     'AM', null,                      Big('0.0'),  'AM', null],
        ['+375 17 298-46-29',  'BY', null,                      Big('0.0'),  'BY', null],
        ['+376 892 000',       'AD', null,                      Big('0.0'),  'AD', null],
        ['+378 (0549) 992400', 'SM', null,                      Big('0.0'),  'SM', null],
        ['+39 06 6988 4676',   'VA', null,                      Big('0.0'),  'VA', null],
        ['+380 612 229 949',   'UA', null,                      Big('0.0'),  'UA', null],
        ['+381 27 324764',     'RS', null,                      Big('0.0'),  'RS', null],
        ['+382 67 814 408',    'ME', null,                      Big('0.0'),  'ME', null],

        // Kosovo doesn't have a real ISO code yet, but various organizations are using XK.
        // Also, the calling code is +383 as of 2015, but I couldn't find any published
        // numbers with that code as of January 2015.
        ['+381 38 244277',     'XK', null,                      Big('0.0'),  'XK', null],
        ['+377 44 113 773',    'XK', null,                      Big('0.0'),  'XK', null],

        ['+387 33 727-279',    'BA', null,                      Big('0.0'),  'BA', null],
        ['+389 2 311 6066',    'MK', null,                      Big('0.0'),  'MK', null],

        ['+423 239 63 00',     'LI', null,                      Big('0.0'),  'LI', null],
        ['+44 1481 721911',    'GG', null,                      Big('0.0'),  'GG', null],
        ['+44 1534 633300',    'JE', null,                      Big('0.0'),  'JE', null],

        ['+501 223-2670',      'BZ', null,                      Big('0.0'),  'BZ', null],
        ['+502 2232 4041',     'GT', null,                      Big('0.0'),  'GT', null],
        ['+503 2534 9181',     'SV', null,                      Big('0.0'),  'SV', null],
        ['+504 2236-9320',     'HN', null,                      Big('0.0'),  'HN', null],
        ['+505 2255 9595',     'NI', null,                      Big('0.0'),  'NI', null],
        ['+506 2519 2000',     'CR', null,                      Big('0.0'),  'CR', null],
        ['+507 317-5000',      'PA', null,                      Big('0.0'),  'PA', null],
        ['+508 41 26 27',      'PM', null,                      Big('0.0'),  'PM', null],
        ['+509 22 29 8000',    'HT', null,                      Big('0.0'),  'HT', null],
        ['+51 1 4351137',      'PE', null,                      Big('0.0'),  'PE', null],
        ['+52 55 5140 2600',   'MX', null,                      Big('0.0'),  'MX', null],
        ['+53 7 334011',       'CU', null,                      Big('0.0'),  'CU', null],
        ['+54 11 5777-4533',   'AR', null,                      Big('0.0'),  'AR', null],
        ['+55 61 3312-7000',   'BR', null,                      Big('0.0'),  'BR', null],
        ['+56 22322600',       'CL', null,                      Big('0.0'),  'CL', null],
        ['+57 5 3532001',      'CO', null,                      Big('0.0'),  'CO', null],
        ['+58 212-9756411',    'VE', null,                      Big('0.0'),  'VE', null],
        ['+590 590 52-2525',   'MF', null,                      Big('0.0'),  'MF', null],
        ['+590 590 27-6464',   'BL', null,                      Big('0.0'),  'BL', null],
        ['+590 590 38-9400',   'GP', null,                      Big('0.0'),  'GP', null],
        ['+591 3 3331237',     'BO', null,                      Big('0.0'),  'BO', null],
        ['+592 227 0330',      'GY', null,                      Big('0.0'),  'GY', null],
        ['+593 4-371-7000',    'EC', null,                      Big('0.0'),  'EC', null],
        ['+594 594 31 03 05',  'GF', null,                      Big('0.0'),  'GF', null],
        ['+595 21 232655',     'PY', null,                      Big('0.0'),  'PY', null],
        ['+596 596 71 56 15',  'MQ', null,                      Big('0.0'),  'MQ', null],
        ['+597 851-5222',      'SR', null,                      Big('0.0'),  'SR', null],
        ['+598 2354 2502',     'UY', null,                      Big('0.0'),  'UY', null],
        ['+599 9 435 5000',    'CW', null,                      Big('0.0'),  'CW', null],
        ['+599 717 5600',      'BQ', null,                      Big('0.0'),  'BQ', null],

        ['+60 3-2274 6489',    'MY', null,                      Big('0.0'),  'MY', null],
        ['+61 8 9164 8498',    'CX', null,                      Big('0.0'),  'CX', null],
        ['+61 8 9162 6515',    'CC', null,                      Big('0.0'),  'CC', null],
        ['+61 2 9798 8299',    'AU', null,                      Big('0.0'),  'AU', null],
        ['+62 31 5453321',     'ID', null,                      Big('0.0'),  'ID', null],
        ['+63 2 708 9099',     'PH', null,                      Big('0.0'),  'PH', null],
        ['+64 9-360 1572',     'NZ', null,                      Big('0.0'),  'NZ', null],
        ['+65 6883 1534',      'SG', null,                      Big('0.0'),  'SG', null],
        ['+66 2 278 3175',     'TH', null,                      Big('0.0'),  'TH', null],
        ['+670 332 4502',      'TL', null,                      Big('0.0'),  'TL', null],
        ['+672 3 22445',       'NF', null,                      Big('0.0'),  'NF', null],
        ['+672 12 8857',       'AQ', null,                      Big('0.0'),  'AQ', null],
        ['+673 233 5544',      'BN', null,                      Big('0.0'),  'BN', null],
        ['+(674) 5578020',     'NR', null,                      Big('0.0'),  'NR', null],
        ['+675 324 4704',      'PG', null,                      Big('0.0'),  'PG', null],
        ['+676 22-390',        'TO', null,                      Big('0.0'),  'TO', null],
        ['+677 20071',         'SB', null,                      Big('0.0'),  'SB', null],
        ['+678 36911',         'VU', null,                      Big('0.0'),  'VU', null],
        ['+679 331 2600',      'FJ', null,                      Big('0.0'),  'FJ', null],
        ['+680 488 8686',      'PW', null,                      Big('0.0'),  'PW', null],
        ['+681 72 21 00',      'WF', null,                      Big('0.0'),  'WF', null],
        ['+682 20 068',        'CK', null,                      Big('0.0'),  'CK', null],
        ['+683 4628',          'NU', null,                      Big('0.0'),  'NU', null],
        ['+685 20042',         'WS', null,                      Big('0.0'),  'WS', null],
        ['+686 81230',         'KI', null,                      Big('0.0'),  'KI', null],
        ['+687 25.66.66',      'NC', null,                      Big('0.0'),  'NC', null],
        ['+(688) 20500',       'TV', null,                      Big('0.0'),  'TV', null],
        ['+689 453888',        'PF', null,                      Big('0.0'),  'PF', null],
        ['+690 4140',          'TK', null,                      Big('0.0'),  'TK', null],
        ['+691 320 2537',      'FM', null,                      Big('0.0'),  'FM', null],
        ['+692 247-7923',      'MH', null,                      Big('0.0'),  'MH', null],
        ['(+7) 840-226 3693',  'GE', null,                      Big('0.0'),  'GE', null],
        ['+7 940 779-70-70',   'GE', null,                      Big('0.0'),  'GE', null],
        ['+7 495 698-49-61',   'RU', null,                      Big('0.0'),  'RU', null],
        ['+7 721 290 9563',    'KZ', null,                      Big('0.0'),  'KZ', null],
        ['+81 3-5570-0230',    'JP', null,                      Big('0.0'),  'JP', null],
        ['‎+82 2-6352-3611',    'KR', null,                      Big('0.0'),  'KR', null],
        ['+84 8 3827 2372',    'VN', null,                      Big('0.0'),  'VN', null],
        ['+850-2-321-7851',    'KP', null,                      Big('0.0'),  'KP', null],
        ['+852 2332 7600',     'HK', null,                      Big('0.0'),  'HK', null],
        ['+853 2838 1652',     'MO', null,                      Big('0.0'),  'MO', null],
        ['+855 23 424 888',    'KH', null,                      Big('0.0'),  'KH', null],
        ['+856 21 212 460',    'LA', null,                      Big('0.0'),  'LA', null],
        ['+86 10 8402 1029',   'CN', null,                      Big('0.0'),  'CN', null],
        ['+880 1534-663693',   'BD', null,                      Big('0.0'),  'BD', null],
        ['+886 3 561 0168',    'TW', null,                      Big('0.0'),  'TW', null],
        ['+90 224 261 0037',   'TR', null,                      Big('0.0'),  'TR', null],
        ['+91 22 2504 1273',   'IN', null,                      Big('0.0'),  'IN', null],
        ['+92 22 3880342',     'PK', null,                      Big('0.0'),  'PK', null],
        ['+93 20 230 0016',    'AF', null,                      Big('0.0'),  'AF', null],
        ['+94 11 2 300133',    'LK', null,                      Big('0.0'),  'LK', null],
        ['+95 67 414 141',     'MM', null,                      Big('0.0'),  'MM', null],
        ['+960 680-8866',      'MV', null,                      Big('0.0'),  'MV', null],
        ['+961 6 444 445',     'LB', null,                      Big('0.0'),  'LB', null],
        ['+962 6 462 0190',    'JO', null,                      Big('0.0'),  'JO', null],
        ['+963 33 883 7880',   'SY', null,                      Big('0.0'),  'SY', null],
        ['+964 740 157 5938',  'IQ', null,                      Big('0.0'),  'IQ', null],
        ['+965 2246 5489',     'KW', null,                      Big('0.0'),  'KW', null],
        ['+966 53 326 4028',   'SA', null,                      Big('0.0'),  'SA', null],
        ['+967 5 304 741',     'YE', null,                      Big('0.0'),  'YE', null],
        ['+968 24 478373',     'OM', null,                      Big('0.0'),  'OM', null],
        ['+970 2 232 2187',    'PS', null,                      Big('0.0'),  'PS', null],
        ['+971 2 819 0000',    'AE', null,                      Big('0.0'),  'AE', null],
        ['+972 8-673-0209',    'IL', null,                      Big('0.0'),  'IL', null],
        ['+973 1764 3299',     'BH', null,                      Big('0.0'),  'BH', null],
        ['+974 4425 5555',     'QA', null,                      Big('0.0'),  'QA', null],
        ['+975 2 327 791',     'BT', null,                      Big('0.0'),  'BT', null],
        ['+976 7013 3804',     'MN', null,                      Big('0.0'),  'MN', null],
        ['+977 1-4411210',     'NP', null,                      Big('0.0'),  'NP', null],
        ['+98 51 1880 2000',   'IR', null,                      Big('0.0'),  'IR', null],
        ['+992 474 49 4229',   'TJ', null,                      Big('0.0'),  'TJ', null],
        ['+993 12 51-05-55',   'TM', null,                      Big('0.0'),  'TM', null],
        ['+994 12 495 30 73',  'AZ', null,                      Big('0.0'),  'AZ', null],
        ['+995 322 20 22 22',  'GE', null,                      Big('0.0'),  'GE', null],
        ['+996 312 611 155',   'KG', null,                      Big('0.0'),  'KG', null],
        ['+998 66 233 78 43',  'UZ', null,                      Big('0.0'),  'UZ', null],
    ],

    function (test, data) {
        var res = vatMoss.phoneNumber.calculateRate(data[0], data[1], data[2]);
        test.deepEqual(data[3], res.rate);
        test.strictEqual(data[4], res.countryCode);
        test.strictEqual(data[5], res.exceptionName);
        test.done();
    }
);
